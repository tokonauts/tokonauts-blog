---
interface Props {
  title: string;
  description: string;
  image: string;
  demoUrl?: string;
  githubUrl?: string;
  stack?: string[];
}

const { title, description, image, demoUrl, githubUrl, stack = [] } = Astro.props;
---

<div class="bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-shadow duration-300 flex flex-col h-full">
    <a href={demoUrl || githubUrl || '#'} target="_blank" rel="noopener noreferrer" class="block overflow-hidden group">
        <img 
            class="w-full h-48 object-cover transform group-hover:scale-105 transition-transform duration-500" 
            src={image} 
            alt={`Screenshot of ${title}`} 
        />
    </a>
    <div class="p-5 flex flex-col flex-grow">
        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">
            <a href={demoUrl || githubUrl || '#'} class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                {title}
            </a>
        </h5>
        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400 flex-grow">
            {description}
        </p>
        
        {stack.length > 0 && (
            <div class="flex flex-wrap gap-2 mb-4">
                {stack.map((tech) => (
                    <span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600">
                        {tech}
                    </span>
                ))}
            </div>
        )}

        <div class="flex gap-3 mt-auto pt-4 border-t border-gray-100 dark:border-gray-700">
            {demoUrl && (
                <a href={demoUrl} target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 transition-colors">
                    Live Demo
                    <svg class="w-3.5 h-3.5 ml-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                    </svg>
                </a>
            )}
            {githubUrl && (
                <a href={githubUrl} target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-3 py-2 text-sm font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700 transition-colors">
                    <svg class="w-4 h-4 mr-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 .333A9.911 9.911 0 0 0 .11 10.525c0 4.492 2.89 8.298 6.903 9.64.512.083.675-.208.675-.483 0-.25-.013-1.083-.013-2.083-2.887.625-3.512-1.375-3.512-1.375-.462-1.167-1.125-1.46-1.125-1.46-.913-.625.075-.625.075-.625 1.05.084 1.6 1.084 1.6 1.084.9 1.541 2.375 1.083 2.95.833.087-.666.362-1.125.65-1.375-2.313-.25-4.75-1.125-4.75-5.083 0-1.125.388-2.042 1.038-2.75-.1-.25-.45-1.292.1-2.709 0 0 .875-.291 2.875 1.084A10.038 10.038 0 0 1 10 3.333c.887 0 1.775.125 2.625.375 2.012-1.375 2.875-1.083 2.875-1.083.55 1.416.2 2.458.1 2.708.65.708 1.038 1.625 1.038 2.75 0 3.979-2.45 4.812-4.763 5.062.375.334.713.959.713 1.959 0 1.416-.013 2.541-.013 2.916 0 .292.163.584.688.459C17.09 18.816 20 15.02 20 10.525 20 4.891 15.524.333 10 .333Z" clip-rule="evenodd"/>
                    </svg>
                    Code
                </a>
            )}
        </div>
    </div>
</div>
